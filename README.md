# MvideoJuniorTest

## Запуск

Чтобы запустить данный код достаточно написать 
    ```python3 main.py```
Файл с зависимостями не требуется, так как все было реализовано на стандартной библиотеке python 
без каких-либо дополнительных модулей. При решении использовалась версия Python 3.6.9.


Пример GET-запроса: ```http://localhost:8000/?sku=2rFeIfZiyD&rank=0.8```


Параметр rank опциональный.




## Немного о решении

Перед началом решения я проанализировал файл с помощью jupyter notebook и pandas, посчитал сколько в нем строк, сколько уникальных значений и т.д.
Далее я создал словарь, в котором для каждого sku записал массив с рекомендациями и уровнем "близости" для них. Массив был отсортирован по rank от большего 
к меньшему. После чего я записал данный словарь в 1200 файлов, по 1000 строк в каждом (вот тут я не уверен, что подобрал идеальные параметры разбиения,
вполне возможно, что стоило создать меньше файлов, но я решил перестраховаться, чтобы точно уложиться в ограничения по времени).
Также я создал файл keys.txt, в котором для каждого sku хранил номер файла, где хранятся рекомендации для этого sku.


В самой программе я получаю sku и rank, с помощью файла keys.txt (который предварительно считываю и преобразовываю в словарь) нахожу нужный файл,
в котором нахожу нужную строку. Файл я считываю целиком, так как это намного быстрее, чем считывать отдельно каждую строку, пока не найдется нужная.
